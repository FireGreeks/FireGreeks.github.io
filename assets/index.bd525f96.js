import{r as N,s as W,o as $e,c as z,w as j,u as Ae,n as H,a as ve,h as Xe,i as Ce,b as Z,d as Ge,g as pe,e as He}from"./index.7495bed7.js";function Fe(e,t,n){var i=n||{},o=i.noTrailing,r=o===void 0?!1:o,s=i.noLeading,a=s===void 0?!1:s,v=i.debounceMode,u=v===void 0?void 0:v,f,h=!1,g=0;function d(){f&&clearTimeout(f)}function T(y){var _=y||{},b=_.upcomingOnly,S=b===void 0?!1:b;d(),h=!S}function O(){for(var y=arguments.length,_=new Array(y),b=0;b<y;b++)_[b]=arguments[b];var S=this,C=Date.now()-g;if(h)return;function x(){g=Date.now(),t.apply(S,_)}function M(){f=void 0}!a&&u&&!f&&x(),d(),u===void 0&&C>e?a?(g=Date.now(),r||(f=setTimeout(u?M:x,e))):x():r!==!0&&(f=setTimeout(u?M:x,u===void 0?e-C:e))}return O.cancel=T,O}function We(e,t,n){var i=n||{},o=i.atBegin,r=o===void 0?!1:o;return Fe(e,t,{debounceMode:r!==!1})}var ue=function(e,t){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},ue(e,t)};function ze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ue(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xe=function(){return xe=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)};function yt(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function bt(e,t,n,i){function o(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function a(f){try{u(i.next(f))}catch(h){s(h)}}function v(f){try{u(i.throw(f))}catch(h){s(h)}}function u(f){f.done?r(f.value):o(f.value).then(a,v)}u((i=i.apply(e,t||[])).next())})}function It(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return v([u,f])}}function v(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(i=1,o&&(r=u[0]&2?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){n.label=u[1];break}if(u[0]===6&&n.label<r[1]){n.label=r[1],r=u;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(u);break}r[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],o=0}finally{i=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ie(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,r;i<o;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Nt(e,t){if(!Boolean(e))throw new Error(t)}class Ot{constructor(t,n,i){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class _t{constructor(t,n,i,o,r,s){this.kind=t,this.start=n,this.end=i,this.line=o,this.column=r,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Ze={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},qe=new Set(Object.keys(Ze));function St(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&qe.has(t)}var Re;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Re||(Re={}));var Le;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Le||(Le={}));function ae(e){return e===9||e===32}function Ke(e){return e>=48&&e<=57}function je(e){return e>=97&&e<=122||e>=65&&e<=90}function Dt(e){return je(e)||e===95}function wt(e){return je(e)||Ke(e)||e===95}function At(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,o=-1;for(let s=0;s<e.length;++s){var r;const a=e[s],v=et(a);v!==a.length&&(i=(r=i)!==null&&r!==void 0?r:s,o=s,s!==0&&v<n&&(n=v))}return e.map((s,a)=>a===0?s:s.slice(n)).slice((t=i)!==null&&t!==void 0?t:0,o+1)}function et(e){let t=0;for(;t<e.length&&ae(e.charCodeAt(t));)++t;return t}function Ct(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),o=i.length===1,r=i.length>1&&i.slice(1).every(d=>d.length===0||ae(d.charCodeAt(0))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,v=e.endsWith("\\"),u=a||v,f=!(t!=null&&t.minimize)&&(!o||e.length>70||u||r||s);let h="";const g=o&&ae(e.charCodeAt(0));return(f&&!g||r)&&(h+=`
`),h+=n,(f||u)&&(h+=`
`),'"""'+h+'"""'}const tt=10,Pe=2;function xt(e){return K(e,[])}function K(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return nt(e,t);default:return String(e)}}function nt(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(rt(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:K(i,n)}else if(Array.isArray(e))return ot(e,n);return it(e,n)}function rt(e){return typeof e.toJSON=="function"}function it(e,t){const n=Object.entries(e);if(n.length===0)return"{}";if(t.length>Pe)return"["+st(e)+"]";const i=n.map(([o,r])=>o+": "+K(r,t));return"{ "+i.join(", ")+" }"}function ot(e,t){if(e.length===0)return"[]";if(t.length>Pe)return"[Array]";const n=Math.min(tt,e.length),i=e.length-n,o=[];for(let r=0;r<n;++r)o.push(K(e[r],t));return i===1?o.push("... 1 more item"):i>1&&o.push(`... ${i} more items`),"["+o.join(", ")+"]"}function st(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}function lt(e){return e!==null&&typeof e=="object"}var ut=Symbol();function Rt(e){return e.extensions?Array.isArray(e.extensions[ut]):!1}function at(e){return e.hasOwnProperty("graphQLErrors")}var ct=function(e){var t=ie(ie(ie([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map(function(n){return lt(n)&&n.message||"Error message not found."}).join(`
`)},ce=function(e){ze(t,e);function t(n){var i=n.graphQLErrors,o=n.protocolErrors,r=n.clientErrors,s=n.networkError,a=n.errorMessage,v=n.extraInfo,u=e.call(this,a)||this;return u.name="ApolloError",u.graphQLErrors=i||[],u.protocolErrors=o||[],u.clientErrors=r||[],u.networkError=s||null,u.message=a||ct(u),u.extraInfo=v,u.__proto__=t.prototype,u}return t}(Error),ft=Symbol("default-apollo-client"),vt=Symbol("apollo-clients");function oe(e,t){return e?e.default:t!=null?t:void 0}function se(e,t){if(!e)throw new Error(`No apolloClients injection found, tried to resolve '${t}' clientId`);return e[t]}function Me(e){let t;const n=fe;if(!Xe())t=o=>o?se(n,o):oe(n,n.default);else{const o=Ce(vt,null),r=Ce(ft,null);t=s=>{if(s){const v=se(o,s);return v||se(n,s)}const a=oe(o,r);return a||oe(n,n.default)}}function i(o=e){const r=t(o);if(!r)throw new Error(`Apollo client with id ${o!=null?o:"default"} not found. Use an app.runWithContext() or provideApolloClient() if you are outside of a component setup.`);return r}return{resolveClient:i,get client(){return i()}}}var fe={};function Lt(e){return fe={default:e},function(t){const n=t();return fe={},n}}function le(e){return Z(e)?e:typeof e=="function"?z(e):N(e)}function pt(e){return Z(e)?e:typeof e=="function"?z(e):e&&Ge(e)}function q(){const e=[];function t(r){return e.push(r),{off:()=>n(r)}}function n(r){const s=e.indexOf(r);s!==-1&&e.splice(s,1)}function i(...r){for(const s of e)s(...r)}function o(){return e.length}return{on:t,off:n,trigger:i,getCount:o}}var w=typeof window=="undefined",P={queries:N(0),mutations:N(0),subscriptions:N(0),components:new Map};function Et(){const e=pe();if(!e)return{};let t;return P.components.has(e)?t=P.components.get(e):(P.components.set(e,t={queries:N(0),mutations:N(0),subscriptions:N(0)}),He(()=>{P.components.delete(e)})),{tracking:t}}function Ve(e,t){if(w)return;const{tracking:n}=Et();j(e,(i,o)=>{if(o!=null&&i!==o){const r=i?1:-1;n&&(n[t].value+=r),P[t].value+=r}},{immediate:!0}),ve(()=>{e.value&&(n&&n[t].value--,P[t].value--)})}function dt(e){Ve(e,"queries")}function gt(e){Ve(e,"mutations")}function ke(e){return e instanceof Error?at(e)?e:new ce({networkError:e,errorMessage:e.message}):new ce({networkError:Object.assign(new Error,{originalError:e}),errorMessage:String(e)})}function ht(e){return new ce({graphQLErrors:e,errorMessage:`GraphQL response contains errors: ${e.map(t=>t.message).join(" | ")}`})}function Ft(e,t,n){return mt(e,t,n)}function mt(e,t,n={},i=!1){var o;const r=pe(),s=N(),a=le(e),v=le(t),u=pt(n),f=W(),h=q(),g=W(null),d=q(),T=N(!1);r&&dt(T);const O=N();let y,_=!1,b,S;const C=()=>{_=!0,y&&y()},x=l=>{S=l,b&&b(l)},M=()=>{y=void 0,b=void 0,_=!1,S=void 0};r&&((o=$e)==null||o(()=>{var l;if(!(!L.value||w&&((l=s.value)==null?void 0:l.prefetch)===!1))return new Promise((c,E)=>{y=()=>{M(),c()},b=m=>{M(),E(m)},_?y():S&&b(S)}).finally(V)}));const{resolveClient:Ee}=Me();function ee(){var l;return Ee((l=s.value)==null?void 0:l.clientId)}const p=W();let R,D=!1,A=!1,de=!0;function Q(){var l,c,E,m,F;if(D||!L.value||w&&((l=s.value)==null?void 0:l.prefetch)===!1||!ne){C();return}w&&(_e(a.value),De(v.value),Oe(Ae(u))),D=!0,g.value=null,T.value=!0;const G=ee();if(p.value=G.watchQuery({query:ne,variables:X!=null?X:{},...s.value,...w&&((c=s.value)==null?void 0:c.fetchPolicy)!=="no-cache"?{fetchPolicy:"network-only"}:{}}),ge(),!w&&(de||!((E=s.value)!=null&&E.keepPreviousResult))&&(((m=s.value)==null?void 0:m.fetchPolicy)!=="no-cache"||s.value.notifyOnNetworkStatusChange)){const I=p.value.getCurrentResult(!1);!I.loading||I.partial||((F=s.value)==null?void 0:F.notifyOnNetworkStatusChange)?(me(I),A=!I.loading):I.error&&(Te(I.error),A=!0)}if(!w)for(const I of U)we(I);de=!1}function ge(){R&&!R.closed||!p.value||(A=!1,R=p.value.subscribe({next:me,error:Te}))}function he(){var l,c,E,m;const F=Ee((l=s.value)==null?void 0:l.clientId);return((c=s.value)==null?void 0:c.errorPolicy)||((m=(E=F.defaultOptions)==null?void 0:E.watchQuery)==null?void 0:m.errorPolicy)}function me(l){var c;if(A){A=!1;return}g.value=null,B(l);const E=he();E&&E==="all"&&!l.error&&((c=l.errors)==null?void 0:c.length)&&ye(ht(l.errors)),C()}function B(l){f.value=l.data&&Object.keys(l.data).length===0?void 0:l.data,T.value=l.loading,O.value=l.networkStatus,H(()=>{h.trigger(l,{client:ee()})})}function Te(l){if(A){A=!1;return}const c=ke(l),E=he();E&&E!=="none"&&B(p.value.getCurrentResult()),ye(c),x(c),Ue()}function ye(l){g.value=l,T.value=!1,O.value=8,H(()=>{d.trigger(l,{client:ee()})})}function Ue(){if(!p.value)return;const l=p.value.getLastError(),c=p.value.getLastResult();p.value.resetLastResults(),ge(),Object.assign(p.value,{lastError:l,lastResult:c})}let te=[];function V(){C(),D&&(D=!1,T.value=!1,te.forEach(l=>l()),te=[],p.value&&(p.value.stopPolling(),p.value=null),R&&(R.unsubscribe(),R=void 0))}let Y=!1;function J(){!D||Y||(Y=!0,H(()=>{D&&(V(),Q()),Y=!1}))}let k,be=!1;function Ie(){var l,c;s.value?((l=s.value)!=null&&l.throttle?k=Fe(s.value.throttle,J):(c=s.value)!=null&&c.debounce?k=We(s.value.debounce,J):k=J,be=!0):k=J}function $(){!D||Y||(be||Ie(),k())}let ne=a.value;const Ne=N(i),Qe=z(()=>!s.value||s.value.enabled==null||s.value.enabled),L=z(()=>Qe.value&&!Ne.value&&!!a.value);j(()=>Ae(u),Oe,{deep:!0,immediate:!0});function Oe(l){s.value&&(s.value.throttle!==l.throttle||s.value.debounce!==l.debounce)&&Ie(),s.value=l,$()}j(a,_e);function _e(l){ne=l,$()}let X,Se;j(()=>{if(L.value)return v.value},De,{deep:!0,immediate:!0});function De(l){const c=JSON.stringify([l,L.value]);c!==Se&&(X=l,$()),Se=c}function Be(l=void 0){if(p.value)return l&&(X=l),g.value=null,T.value=!0,p.value.refetch(l).then(c=>{var E;const m=(E=p.value)==null?void 0:E.getCurrentResult();return m&&B(m),c})}function Ye(l){if(p.value)return g.value=null,T.value=!0,p.value.fetchMore(l).then(c=>{var E;const m=(E=p.value)==null?void 0:E.getCurrentResult();return m&&B(m),c})}const U=[];function Je(l){if(w)return;const c=le(l);j(c,(E,m,F)=>{const G=U.findIndex(re=>re.options===m);G!==-1&&U.splice(G,1);const I={options:E,unsubscribeFns:[]};U.push(I),we(I),F(()=>{I.unsubscribeFns.forEach(re=>re()),I.unsubscribeFns=[]})},{immediate:!0})}function we(l){if(!D)return;if(!p.value)throw new Error("Query is not defined");const c=p.value.subscribeToMore(l.options);te.push(c),l.unsubscribeFns.push(c)}return j(L,l=>{l?H(()=>{Q()}):V()}),L.value&&Q(),r&&ve(()=>{V(),U.length=0}),{result:f,loading:T,networkStatus:O,error:g,start:Q,stop:V,restart:$,forceDisabled:Ne,document:a,variables:v,options:u,query:p,refetch:Be,fetchMore:Ye,subscribeToMore:Je,onResult:h.on,onError:d.on}}function jt(e,t={}){const n=pe(),i=N(!1);n&&gt(i);const o=W(null),r=N(!1),s=q(),a=q(),{resolveClient:v}=Me();async function u(f,h={}){let g;typeof e=="function"?g=e():Z(e)?g=e.value:g=e;let d;typeof t=="function"?d=t():Z(t)?d=t.value:d=t;const T=v(d.clientId);o.value=null,i.value=!0,r.value=!0;try{const O=await T.mutate({mutation:g,...d,...h,variables:(f!=null?f:d.variables)?{...d.variables,...f}:void 0});return i.value=!1,s.trigger(O,{client:T}),O}catch(O){const y=ke(O);if(o.value=y,i.value=!1,a.trigger(y,{client:T}),d.throws==="always"||d.throws!=="never"&&!a.getCount())throw y}return null}return n&&ve(()=>{i.value=!1}),{mutate:u,loading:i,error:o,called:r,onDone:s.on,onError:a.on}}export{ce as A,Le as K,Ot as L,Re as O,ut as P,Ze as Q,_t as T,ze as _,xt as a,xe as b,ie as c,Nt as d,lt as e,bt as f,It as g,yt as h,St as i,Rt as j,at as k,Lt as l,jt as m,Ke as n,Dt as o,Ct as p,At as q,wt as r,Ft as u};
