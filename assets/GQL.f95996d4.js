import{N as u,u as f,R as s,m as c}from"./index.9b77b900.js";function d(r,e,n){const t=f(r,e,{errorPolicy:"none"});return t.onError(o=>{n&&n();const a=s();c.includes(a.currentRoute.value.name)||a.push("/auth").then(h=>i(o.message))}),t}function m(r,e){return new Promise(n=>{r(e).then(t=>{const o=s();t.error&&!c.includes(o.currentRoute.value.name)&&o.push("/auth").then(a=>i(t.error.message)),n(t)})})}function i(r){let e;return r==="Failed to fetch"?e="Couldn't connect to server... Please check your connection":e=r.slice(r.indexOf(":")+2),e==="Bad credentials"&&(e+=". The email and/or the password are incorrect."),u.create({message:e,color:"red"}),e}export{m as a,i as n,d as s};
